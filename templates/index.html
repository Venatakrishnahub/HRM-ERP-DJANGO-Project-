<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
       body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        .nav-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #2c3e50; /* Dark blue background */
        color: #ecf0f1; /* Light gray text color */
        padding: 10px;
        }

        .mobile-menu {
        margin-right: 10px;
        cursor: pointer;
        }

        .nav-button button {
        background-color: #27ae60; /* Green background */
        border: none;
        color: white;
        padding: 10px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        }

        .container {
            max-width: 970px;
            margin: 20px auto;
            margin-right: 30px;
            background-color: #f9f9f9; /* Light gray background */
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .tab-box {
            width: 100%;
            display: flex;
            justify-content: space-around;
            align-items: center;
            border-bottom: 2px solid  rgba(229,229,299);
            position: relative;
        }
        .tab-btn {
            font-size: 14px;
            font-weight: 600;
            color: #919191;
            background: none;
            border: none;
            padding: 18px;
            cursor: pointer;
        }

        .tab-btn.active {
            color: #7360ff;
        }
        .joining-details,
        .address-contacts-details,
        .attendance-leaves-details,
        .salary-details,
        .personal-details,
        .profile-details,
        .exit-details{
          display: none;
        }
        form {
            padding-left: 30px;
            padding-top: 20px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333; /* Dark text color */
            font-size: 13px; /* Adjust the font size as needed */
            line-height: 1.5; /* Adjust line height for better readability */
        }

        .required {
            color: red; /* Highlight required labels in red */
            font-weight: bold; /* Make required labels bold */
        }

        input[type="text"],
        input[type="date"],
        select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc; /* Light gray border */
            border-radius: 4px;
            box-sizing: border-box;
        }
      
        .name-input {
            display: inline-block;
            width: calc(33.33% - 10px);
            margin-right: 5px;
        }
        .checkbox-label {
            display: inline-block;
            margin-top: 8px;
        }
        .form-fieldset {
            border: 1px solid #ccc; /* Light gray border */
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .form-fieldset legend {
            font-weight: bold;
            color: #333; /* Dark gray legend */
        }
        .form-fieldset label {
            margin-bottom: 10px;
            font-weight: normal;
        }
        .line {
            position: absolute;
            top: 52px;
            left: 17px;
            width: 90px;
            height: 4px;
            background-color: #7360ff;
            border-radius: 10px;
            transition: width 0.3s ease, left 0.3s ease; /* Added transition */
        }
        .next-btn {
            background-color: #7360ff;
            color: #fff;
            border: none;
            border-radius: 4px;
            padding: 12px 24px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .next-btn:hover {
            background-color: #5a4ee0;
        }
        .department-grade,
        .education-details,
        .work-details{
            display: none;
        }
        table {
        width: 100%;
        border-collapse: collapse;
        }
        table,
            th,
            td {
            border: 1px solid #ccc; /* Light gray border */
            }

            th,
            td {
            padding: 3px;
            text-align: left;
            }

            th {
            background-color: #f2f2f2; /* Light gray background for table header */
            }

            .bun {
            background-color: #4CAF50; /* Green button */
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            }

            .bun:hover {
            background-color: #45a049; /* Darker green on hover */
            }

            .editBtn,
            .deleteBtn {
            padding: 5px 10px;
            margin-right: 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            }

            .editBtn {
            background-color: #007bff; /* Blue edit button */
            color: #fff;
            }

            .deleteBtn {
            background-color: #dc3545; /* Red delete button */
            color: #fff;
            }
            .bun1 {
            background-color: #4CAF50; /* Green button */
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px; /* Adjust margin as needed */
            }

            .bun1:hover {
            background-color: #45a049; /* Darker green on hover */
            }

        

    </style>
</head>
<body>
    <div class="nav-bar">
        <div>
          <span class="mobile-menu">&#9776;</span>
          <span>New Employee</span>
        </div>
        <div class="nav-button">
          <button type="submit">Save</button>
        </div>
      </div>
    <div class="container">
        <div class="tab-box">
            <button class="tab-btn active">Overview</button>
            <button class="tab-btn">Joining</button>
            <button class="tab-btn">Address & Contacts</button>
            <button class="tab-btn">Attendance & Leaves</button>
            <button class="tab-btn">Salary</button>
            <button class="tab-btn">Personal</button>
            <button class="tab-btn">Profile</button>
            <button class="tab-btn exit-btn">Exit</button>
            <div class="line"></div>
        </div>
        
        <form id="employee-form" method="post" action="{% url 'save_employee' %}">
            {% csrf_token %}
            <div class="overview-details">
                
            <!-- <fieldset class="form-fieldset"> -->
                    <div class="form-group">
                        <div class="name-input">
                        <label for="first-name">First Name<span class="required">*</span></label>
                        <input type="text" id="first-name" name="first-name" required>
                        </div>
                        <div class="name-input">
                        <label for="middle-name">Middle Name</label>
                        <input type="text" id="middle-name" name="middle-name">
                        </div>
                        <div class="name-input">
                        <label for="last-name">Last Name<span class="required">*</span></label>
                        <input type="text" id="last-name" name="last-name" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="name-input">
                        <label for="gender">Gender<span class="required">*</span></label>
                        <select id="gender" name="gender" required>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                        </div>
                        <div class="name-input">
                        <label for="dob">Date of Birth<span class="required">*</span></label>
                        <input type="date" id="dob" name="dob" required>
                        </div>
                        <div class="name-input">
                        <label for="doj">Date of Joining<span class="required">*</span></label>
                        <input type="date" id="doj" name="doj" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="name-input">
                        <label for="employment-type">Employment Type</label>
                        <select id="employment-type" name="employment-type">
                            <option value="intern">Intern</option>
                            <option value="contract">Contract</option>
                            <option value="full-time">Full-time</option>
                            <option value="part-time">Part-time</option>
                            <option value="probation">Probation</option>
                        </select>
                        </div>
                        <!-- <div class="name-input">
                        <label for="job-status">Status</label>
                        <select id="job-status" name="job-status">
                            <option value="direct">Direct</option>
                            <option value="contract">Contract</option>
                            <option value="full-time">Full-time</option>
                            <option value="part-time">Part-time</option>
                            <option value="partial">Partial</option>
                            <option value="casual">Casual</option>
                            <option value="temporary-agency">Temporary Agency</option>
                        </select>
                        </div> -->
                    </div>
                <!-- </fieldset> -->
                    <div class="form-group">
                        <input type="checkbox" id="department-grade-permission">
                        <label for="department-grade-permission" class="checkbox-label">Department and Grade</label>
                    </div>
                
                    <div class="department-grade">
                        <!-- <fieldset class="form-fieldset"> -->
                        <div class="form-group">
                            <div class="name-input">
                                <label for="department">Department</label>
                                <input type="text" id="department" name="department">
                            </div>
                            <div class="name-input">
                                <label for="grade">Grade</label>
                                <input type="text" id="grade" name="grade">
                            </div>
                            <div class="name-input">
                                <label for="reports-to">Reports to</label>
                                <input type="text" id="reports-to" name="reports-to">
                            </div>
                            </div>
                        <!-- </fieldset> -->
                  </div>
                <div style="display: flex;justify-content: end;"><button type="menu" class="next-btn">Next</button></div>

            </div>
            

            <!-- joining details start -->
            <div class="joining-details">
                <!-- <fieldset class="form-fieldset"> -->
                    <div class="form-group">
                        <div class="name-input">
                        <label for="offer-date">Offer Date</label>
                        <input type="date" id="offer-date" name="offer-date">
                        </div>
                        <div class="name-input">
                        <label for="confirmation-date">Confirmation Date</label>
                        <input type="date" id="confirmation-date" name="confirmation-date">
                        </div>
                        <div class="name-input">
                        <label for="contract-end-date">Contract End Date</label>
                        <input type="date" id="contract-end-date" name="contract-end-date">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="name-input">
                        <label for="notice-days">Notice (Days)</label>
                        <input type="number" id="notice-days" name="notice-days">
                        </div>
                        <div class="name-input">
                        <label for="retirement-date">Date of Retirement</label>
                        <input type="date" id="retirement-date" name="retirement-date">
                        </div>
                    </div>
                <!-- </fieldset> -->
                <div style="display: flex;justify-content: end;"><button type="menu" class="next-btn">Next</button></div>
               
            
            </div>
            <!-- joining details end -->
            <!-- address& contact details starterted -->
            <div class="address-contacts-details">
                <!-- <fieldset class="form-fieldset"> -->
                  <div class="form-group">
                      <div class="name-input">
                        <label for="mobile-number">Mobile Number<span class="required">*</span></label>
                        <input type="text" id="mobile-number" name="mobile-number">
                      </div>
                      <div class="name-input">
                        <label for="current-address">Current Address<span class="required">*</span></label>
                        <input type="text" id="current-address" name="current-address">
                      </div>
                      <div class="name-input">
                        <label for="permanent-address">Permanent Address<span class="required">*</span></label>
                        <input type="text" id="permanent-address" name="permanent-address">
                      </div>
                    </div>
                    
                    <div class="form-group">
                      <div class="name-input">
                        <label for="personal-email">Personal Email<span class="required">*</span></label>
                        <input type="email" id="personal-email" name="personal-email">
                      </div>
                      <div class="name-input">
                        <label for="company-email">Company Email</label>
                        <input type="email" id="company-email" name="company-email">
                      </div>
                      <div class="name-input">
                        <label for="preferred-email">Preferred Email ID<span class="required">*</span></label>
                        <select id="preferred-email" name="preferred-email">
                          <option value="company">Company Email</option>
                          <option value="personal">Personal Email</option>
                        </select>
                      </div>
                    </div>
                <!-- </fieldset> -->
                <div style="display: flex;justify-content: end;"><button type="menu" class="next-btn">Next</button></div>

              </div>
              <!-- address and contacts end -->



              <!-- attanadance and leave section sarted -->
              <div class="attendance-leaves-details">
                <!-- <fieldset class="form-fieldset"> -->
                 <div class="form-group">
                     <div class="name-input">
                       <label for="leave-policy">Leave Policy</label>
                       <input type="text" id="leave-policy" name="leave-policy">
                     </div>
                     <div class="name-input">
                       <label for="holiday-list">Holiday List</label>
                       <input type="text" id="holiday-list" name="holiday-list">
                     </div>
                   </div>
                <!-- </fieldset> -->
                <div style="display: flex;justify-content: end;"><button type="menu" class="next-btn">Next</button></div>
             </div>
             <!-- attanadance and leave section ended -->


             <!-- salary section started -->
             <div class="salary-details">
                <!-- <fieldset class="form-fieldset"> -->
                  <div class="form-group">
                      <div class="name-input">
                        <label for="salary-payment-mode">Salary Payment Mode</label>
                        <select id="salary-payment-mode" name="salary-payment-mode">
                          <option value="bank">Bank</option>
                          <option value="cheque">Cheque</option>
                          <option value="cash">Cash</option>
                        </select>
                      </div>
                      <div class="name-input">
                        <label for="salary_amount">Salary_amount</label>
                        <input type="text" id="salary_amount" name="salary_amount">
                      </div>
                    </div>
                    
                <!-- </fieldset> -->
                <div style="display: flex;justify-content: end;"><button type="menu" class="next-btn">Next</button></div>

              </div>
              <!-- salary section ended -->

              <!-- personal details -->
              <div class="personal-details">
                <!-- <fieldset class="form-fieldset"> -->
                  <div class="form-group">
                      <div class="name-input">
                        <label for="parent-name">Parent's Name<span class="required">*</span></label>
                        <input type="text" id="parent-name" name="parent-name">
                      </div>
                      <div class="name-input">
                        <label for="parent-occupation">Parent's Occupation</label>
                        <input type="text" id="parent-occupation" name="parent-occupation">
                      </div>
                      <div class="name-input">
                        <label for="spouse-name">Spouse's Name</label>
                        <input type="text" id="spouse-name" name="spouse-name">
                      </div>
                    </div>
                    
                    <div class="form-group">
                      <div class="name-input">
                        <label for="spouse-occupation">Spouse's Occupation</label>
                        <input type="text" id="spouse-occupation" name="spouse-occupation">
                      </div>
                      <div class="name-input">
                        <label for="children">Children's Name</label>
                        <input type="text" id="children" name="children">
                      </div>
                      <div class="name-input">
                        <label for="passport-details">Passport Details</label>
                        <input type="text" id="passport-details" name="passport-details">
                      </div>
                    </div>
              
                    <div class="form-group">
                      <div class="name-input">
                        <label for="health-details">Health Details</label>
                        <textarea id="health-details" name="health-details" rows="4"></textarea>
                      </div>
                    </div>
                <!-- </fieldset> -->
                <div style="display: flex;justify-content: end;"><button type="menu" class="next-btn">Next</button></div>

              </div>
              <!-- personal details ended -->


              <!-- profile details started -->
              <div class="profile-details">
                <!-- eduction details -->
                            <div class="form-group">
                                <input type="checkbox" id="education-details-permission">
                                <label for="education-details-permission" class="checkbox-label">Education Qualification</label>
                            </div>
                            <div class="education-details">
                            <!-- Your HTML code for education details goes here -->
                            <!-- <fieldset class="form-fieldset"> -->
                                <!-- Add educational qualification fields here -->
                                <div class="form-group" id="educational_details_section">
                                    <table id="educationTable">
                                        <thead>
                                        <tr>
                                            <th>No</th>
                                            <th>School/University</th>
                                            <th>Qualification</th>
                                            <th>Level</th>
                                            <th>Year of Passing</th>
                                            <th>Edit/Delete</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <!-- Table rows will be added dynamically -->
                                        </tbody>
                                    </table>
                                    <br>

                                <button class="bun" type="button" id="addRowBtn1">Add Row</button>
                                </div>
                                
                                
                            <!-- </fieldset> -->
                            
                            </div>
                        



                            <!--  -->
                            <div class="form-group">
                                <input type="checkbox" id="work-details-permission">
                                <label for="work-details-permission" class="checkbox-label">Pervious Work Experience</label>
                            </div>
                            <div class="work-details">
                            <!-- Your HTML code for work experience details goes here -->
                            <!-- <fieldset class="form-fieldset"> -->
                                <!-- Add educational qualification fields here -->
                                <div class="form-group" id="work-details-section">
                                    <table id="work-details">
                                        <thead>
                                        <tr>
                                            <th>No</th>
                                            <th>Company</th>
                                            <th>Designation</th>
                                            <th>Salary</th>
                                            <th>Address</th>
                                            <th>Edit/Delete</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <!-- Table rows will be added dynamically -->
                                        </tbody>
                                    </table>
                                    <br>

                                  <button class="bun" type="button" id="addRowBtn">Add Row</button>
                                </div>
                                
                                
                            <!-- </fieldset> -->
                                 
                            </div>
            
                        
                            <div style="display: flex;justify-content: end;"><button type="menu" class="next-btn">Next</button></div>

                        <input type="hidden" id="educational_details" name="educational_details">
                        <input type="hidden" id="work_details" name="work_details">
              </div>
              
              <!-- profile details ended -->
                  
             

             <!-- exit details -->
             <div class="exit-details">
                  <div class="form-group">
                    <div class="name-input">
                      <label for="exit_status">Status:</label>
                      <select id="exit_status" name="exit_status">
                      <option value="employed">Employed</option>
                      <option value="left">Left</option>
                      </select>
                    </div>
                    <div class="name-input">
                      <label for="relieving">Relieving Date:</label>
                      <input type="date" id="relieving" name="relieving">
                    </div>
                    <div class="name-input">
                      <label for="resignation">Resignation:</label>
                      <input type="text" id="resignation" name="resignation" required>
                    </div>  
                  </div>
                  <div class="form-group">
                    <div class="name-input">
                      <label for="exit_interview">Exit Interview:</label>
                      <input type="text" id="exit_interview" name="exit_interview">
                    </div>
                    <div class="name-input">
                      <label for="leave_encashment">Leave Encashment:</label>
                      <input type="text" id="leave_encashment" name="leave_encashment">
                    </div>
                  </div>
                  <div style="display: flex;justify-content: end;"><button type="submit" class="bun1">Save</button></div>

                  
             </div>

    
    
          
        </form>

</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
      const tabs = document.querySelectorAll('.tab-btn');
      const tabContents = document.querySelectorAll('.overview-details, .joining-details, .address-contacts-details, .attendance-leaves-details, .salary-details, .personal-details, .profile-details, .exit-details');
      const line = document.querySelector('.line');
      const nextButtons = document.querySelectorAll('.next-btn');
      const saveButton = document.getElementById('saveBtn');

      tabs.forEach((tab, index) => {
          tab.addEventListener('click', (e) => {
              // Remove 'active' class from all tabs and hide tab contents
              tabs.forEach(tab => tab.classList.remove('active'));
              tabContents.forEach(content => content.style.display = 'none');

              // Add 'active' class to the clicked tab and display corresponding content
              tab.classList.add('active');
              line.style.width = tab.offsetWidth + 'px';
              line.style.left = tab.offsetLeft + 'px';
              tabContents[index].style.display = 'block';

              // Show save button if the clicked tab is the "Exit" tab
              if (tab.classList.contains('exit-btn')) {
                  saveButton.style.display = 'block';
              } else {
                  saveButton.style.display = 'none';
              }
          });
      });

      nextButtons.forEach((button, index) => {
          button.addEventListener('click', (e) => {
              e.preventDefault(); // Prevent form submission
              const currentTabContent = tabContents[index];
              const nextTabContent = tabContents[index + 1];

              // Hide current tab content
              currentTabContent.style.display = 'none';

              // Show next tab content
              if (nextTabContent) {
                  nextTabContent.style.display = 'block';

                  // Move line to next tab button
                  const nextTabButton = tabs[index + 1];
                  line.style.width = nextTabButton.offsetWidth + 'px';
                  line.style.left = nextTabButton.offsetLeft + 'px';

                  // Add 'active' class to next tab button and remove it from current
                  tabs[index].classList.remove('active');
                  nextTabButton.classList.add('active');

                  // Show save button if the next tab is the "Exit" tab
                  if (nextTabButton.classList.contains('exit-btn')) {
                      saveButton.style.display = 'block';
                  } else {
                      saveButton.style.display = 'none';
                  }
              }
          });
      });

      // Modified code for handling save button click
      
  });
</script>

<script>
    document.getElementById('department-grade-permission').addEventListener('change', function() {
        var departmentGrade = document.querySelector('.department-grade');
        departmentGrade.style.display = this.checked ? 'block' : 'none';
    });
    document.getElementById('education-details-permission').addEventListener('change', function() {
      var educationDetails = document.querySelector('.education-details');
      educationDetails.style.display = this.checked ? 'block' : 'none';
    });

    document.getElementById('work-details-permission').addEventListener('change', function() {
      var workDetails = document.querySelector('.work-details');
      workDetails.style.display = this.checked ? 'block' : 'none';
    });
    // document.querySelector('.tab-btn:nth-child(8)').addEventListener('click', function() {
    //     var saveButton = document.getElementById('saveBtn');
    //     saveButton.style.display = 'block';
    // });



</script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const addRowBtn1 = document.getElementById("addRowBtn1");
    const educationTableBody = document.querySelector("#educationTable tbody");
  
    let rowCount = 1;
  
    addRowBtn1.addEventListener("click", function() {
      const newRow = createNewEducationRow(rowCount);
      educationTableBody.appendChild(newRow);
      renumberEducationRows();
      rowCount++;
    });
  
    function createNewEducationRow(rowCount) {
      const newRow = document.createElement("tr");
      newRow.innerHTML = `
        <td>${rowCount}</td>
        <td><input type="text" name="school${rowCount}" / placeholder="eg:PEC University"></td>
        <td><input type="text" name="qualification${rowCount}" /placeholder="eg:BE"></td>
        <td><input type="text" name="level${rowCount}" /placeholder="eg:Under Graduate"></td>
        <td><input type="text" name="year${rowCount}" /placeholder="eg:2023"></td>
        <td>
          <button type="button" class="editBtn">Edit</button>
          <button type="button" class="deleteBtn">Delete</button>
        </td>
      `;
  
      const editBtn = newRow.querySelector(".editBtn");
      const deleteBtn = newRow.querySelector(".deleteBtn");
  
      editBtn.addEventListener("click", function() {
        // Logic to edit the row
        // For example, you can populate a form with the row's data for editing
        console.log("Edit education row clicked:", rowCount);
      });
  
      deleteBtn.addEventListener("click", function() {
        // Logic to delete the row
        educationTableBody.removeChild(newRow);
        renumberEducationRows();
        console.log("Delete education row clicked:", rowCount);
      });
  
      return newRow;
    }
  
    function renumberEducationRows() {
      const rows = educationTableBody.querySelectorAll("tr");
      rows.forEach((row, index) => {
        row.querySelector("td:first-child").textContent = index + 1;
      });
    }

    document.getElementById('employee-form').addEventListener('submit', function() {
      const educationalDetails = [];
      const educationRows = educationTableBody.querySelectorAll('tr');
  
      educationRows.forEach(function(row) {
        const school = row.querySelector('input[name^="school"]').value;
        const qualification = row.querySelector('input[name^="qualification"]').value;
        const level = row.querySelector('input[name^="level"]').value;
        const year = row.querySelector('input[name^="year"]').value;
  
        // Construct an object with the values
        const educationDetail = {
          school: school,
          qualification: qualification,
          level: level,
          year: year
        };
  
        // Add the object to the array
        educationalDetails.push(educationDetail);
      });
  
      // Convert the array to JSON string and set it to a hidden input field
      document.getElementById('educational_details').value = JSON.stringify(educationalDetails);
    });

  });
  
  </script>
  <script>
      document.addEventListener("DOMContentLoaded", function() {
        const addRowBtn = document.getElementById("addRowBtn");
        const tableBody = document.querySelector("#work-details tbody");

        let rowCount = 1;

        addRowBtn.addEventListener("click", function() {
            const newRow = createNewRow(rowCount);
            tableBody.appendChild(newRow);
            renumberRows();
            rowCount++;
        });

        function createNewRow(rowCount) {
            const newRow = document.createElement("tr");
            newRow.innerHTML = `
              <td>${rowCount}</td>
              <td><input type="text" name="company${rowCount}" / placeholder="eg:Simtekway solutions PVT"></td>
              <td><input type="text" name="designation${rowCount}" / placeholder="eg:Software Associate"></td>
              <td><input type="text" name="salary${rowCount}" / placeholder="eg:4LPA"></td>
              <td><input type="text" name="address${rowCount}" / placeholder="eg:Banglore"></td>
              <td>
                <button type="button" class="editBtn">Edit</button>
                <button type="button" class="deleteBtn">Delete</button>
              </td>
            `;

            const editBtn = newRow.querySelector(".editBtn");
            const deleteBtn = newRow.querySelector(".deleteBtn");

            editBtn.addEventListener("click", function() {
                // Logic to edit the row
                // For example, you can populate a form with the row's data for editing
                console.log("Edit row clicked:", rowCount);
            });

            deleteBtn.addEventListener("click", function() {
                // Logic to delete the row
                tableBody.removeChild(newRow);
                renumberRows();
                console.log("Delete row clicked:", rowCount);
            });

            return newRow;
        }

        function renumberRows() {
            const rows = tableBody.querySelectorAll("tr");
            rows.forEach((row, index) => {
                row.querySelector("td:first-child").textContent = index + 1;
            });
        }
    });

    document.getElementById('employee-form').addEventListener('submit', function() {
        const educationalDetails = [];
        const tableBody = document.querySelector("#work-details tbody"); // Corrected selector for the table body
        const educationRows = tableBody.querySelectorAll('tr');

        educationRows.forEach(function(row) {
            const company = row.querySelector('input[name^="company"]').value;
            const designation = row.querySelector('input[name^="designation"]').value;
            const salary = row.querySelector('input[name^="salary"]').value;
            const address = row.querySelector('input[name^="address"]').value;

            // Construct an object with the values
            const educationDetail = {
                company: company,
                designation: designation,
                salary: salary,
                address: address
            };

            // Add the object to the array
            educationalDetails.push(educationDetail);
        });

        // Convert the array to JSON string and set it to the hidden input field
        document.getElementById('work_details').value = JSON.stringify(educationalDetails);
    });

  </script>

</body>
</html>